/*
 * /src/styles/DisplayPopup.module.css
 * Sistema completo de variáveis CSS para personalização total do popup
 *
 * TEMA CLARO (Padrão)
 */

/* some resets */
.ntPopups fieldset {
    border: none;
}

/* ==================== CSS VARIABLES (TEMA CLARO) ==================== */
.ntPopups {
    /* general */
    --ntpopups-opposite: black;
    --ntpopups-frosted-glass: linear-gradient(45deg, hsla(0deg, 0%, 96.08%, 96.86%), hsla(0deg, 0%, 100%, 90.98%));

    /* === TYPOGRAPHY === */
    --ntpopups-font-family: "Segoe UI", Arial, sans-serif;
    --ntpopups-font-size-base: 18px;
    --ntpopups-font-size-header: 24px;
    --ntpopups-font-size-button: 14px;
    --ntpopups-font-weight-header: 400;
    --ntpopups-font-weight-normal: 400;
    --ntpopups-font-weight-semibold: 500;
    --ntpopups-font-weight-bold: 700;
    --ntpopups-line-height-base: 1.5;
    --ntpopups-line-height-header: 1.3;

    /* === COLORS - Primary === */
    --ntpopups-color-primary: #5f54f0;
    --ntpopups-color-primary-hover: #4f43f5;
    --ntpopups-color-primary-active: #3f33e5;
    --ntpopups-color-primary-disabled: #a39fd8;
    --ntpopups-color-primary-light: #e8e6fc;

    /* === COLORS - Secondary === */
    --ntpopups-color-secondary: #2a2a2a;
    --ntpopups-color-secondary-hover: #363636;
    --ntpopups-color-secondary-active: #4e555b;
    --ntpopups-color-secondary-disabled: #b8bfc6;
    --ntpopups-color-secondary-light: #e9ecef;

    /* === COLORS - Semantic === */
    --ntpopups-color-success: #28a745;
    --ntpopups-color-success-hover: #218838;
    --ntpopups-color-danger: #dc3545;
    --ntpopups-color-danger-hover: #c82333;
    --ntpopups-color-warning: #ffc107;
    --ntpopups-color-warning-hover: #e0a800;
    --ntpopups-color-info: #17a2b8;
    --ntpopups-color-info-hover: #138496;

    /* === COLORS - Input === */
    --ntpopups-color-input-invalid: var(--ntpopups-color-danger);

    /* === COLORS - Text === */
    --ntpopups-color-text: rgba(64, 64, 64, .95);
    --ntpopups-color-text-secondary: rgba(14, 14, 14, 0.6);
    --ntpopups-color-text-muted: rgba(14, 14, 14, 0.4);
    --ntpopups-color-text-light: #f8f9fa;
    --ntpopups-color-text-on-primary: #ffffff;

    /* === BACKGROUNDS === */
    --ntpopups-bg-default: var(--ntpopups-frosted-glass);
    --ntpopups-bg-overlay: rgba(0, 0, 0, 0.459);
    --ntpopups-bg-footer: #f0f0f0;
    --ntpopups-bg-header: var(--ntpopups-frosted-glass);
    --ntpopups-bg-body: var(--ntpopups-frosted-glass);
    --ntpopups-bg-button-primary: var(--ntpopups-color-primary);
    --ntpopups-bg-button-secondary: var(--ntpopups-color-secondary);

    /* === BORDERS === */
    --ntpopups-border-width: 1px;
    --ntpopups-border-width-thick: 2px;
    --ntpopups-border-style: solid;
    --ntpopups-border-color: rgba(0, 0, 0, 0.07);
    --ntpopups-border-color-dark: rgba(0, 0, 0, 0.15);
    --ntpopups-border-color-light: rgba(0, 0, 0, 0.03);
    --ntpopups-header-border: var(--ntpopups-border-width) var(--ntpopups-border-style) var(--ntpopups-border-color);
    --ntpopups-footer-border: var(--ntpopups-border-width) var(--ntpopups-border-style) var(--ntpopups-border-color);

    /* === BORDER RADIUS === */
    --ntpopups-border-radius: 10px;
    --ntpopups-border-radius-sm: 5px;
    --ntpopups-border-radius-lg: 15px;
    --ntpopups-border-radius-xl: 20px;
    --ntpopups-border-radius-button: 5px;

    /* === SHADOWS === */
    --ntpopups-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
    --ntpopups-shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.1);
    --ntpopups-shadow-lg: 0 20px 50px rgba(0, 0, 0, 0.2);
    --ntpopups-shadow-button: 0 2px 4px rgba(0, 0, 0, 0.1);
    --ntpopups-shadow-button-hover: 0 4px 8px rgba(0, 0, 0, 0.15);

    /* === SPACING === */
    --ntpopups-spacing-xs: 5px;
    --ntpopups-spacing-sm: 10px;
    --ntpopups-spacing-md: 15px;
    --ntpopups-spacing-lg: 20px;
    --ntpopups-spacing-xl: 30px;
    --ntpopups-spacing-2xl: 40px;

    --ntpopups-padding-header: var(--ntpopups-spacing-lg);
    --ntpopups-padding-body: var(--ntpopups-spacing-lg);
    --ntpopups-padding-footer: var(--ntpopups-spacing-sm);
    --ntpopups-padding-button: var(--ntpopups-spacing-md) var(--ntpopups-spacing-lg);

    --ntpopups-gap-buttons: var(--ntpopups-spacing-sm);
    --ntpopups-gap-header-icon: 8px;

    /* === FORM INPUTS === */
    --ntpopups-input-bg: #ffffff;
    --ntpopups-input-border: var(--ntpopups-border-color);
    --ntpopups-input-border-focus: var(--ntpopups-color-primary);
    --ntpopups-input-text-color: var(--ntpopups-color-text);
    --ntpopups-input-placeholder-color: var(--ntpopups-color-text-muted);
    --ntpopups-input-padding: var(--ntpopups-spacing-sm) var(--ntpopups-spacing-md);
    --ntpopups-input-border-radius: var(--ntpopups-border-radius-sm);

    /* === SIZING === */
    --ntpopups-width-min: 300px;
    --ntpopups-width-max: 1000px;
    --ntpopups-width-default: fit-content;
    --ntpopups-height-max: 90dvh;
    --ntpopups-button-min-width: 80px;
    --ntpopups-button-height: auto;

    /* === Z-INDEX === */
    --ntpopups-z-index: 15;
    --ntpopups-z-index-overlay: 14;

    /* === TRANSITIONS === */
    --ntpopups-transition-duration: 0.2s;
    --ntpopups-transition-duration-fast: 0.1s;
    --ntpopups-transition-duration-slow: 0.3s;
    --ntpopups-transition-easing: ease-in-out;
    --ntpopups-transition-easing-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);

    /* NOVO: Duração da animação de fechamento para sincronizar com o JS */
    --ntpopups-close-animation-duration: 0.1s;

    /* === ANIMATIONS === */
    --ntpopups-animation-scale-start: 0.95;
    --ntpopups-animation-opacity-start: 0.8;

    /* === SCROLLBAR === */
    --ntpopups-scrollbar-width: 8px;
    --ntpopups-scrollbar-bg: #f1f1f1;
    --ntpopups-scrollbar-thumb: #c1c1c1;
    --ntpopups-scrollbar-thumb-hover: #a1a1a1;
    --ntpopups-scrollbar-border-radius: 10px;

    /* === BUTTON style 2 === */
    --ntpopups-button-style-2-color: var(--ntpopups-color-secondary);
    --ntpopups-button-style-2-color-hover: var(--ntpopups-color-text);
    --ntpopups-button-style-2-bg: transparent;
    --ntpopups-button-style-2-bg-hover: rgba(0, 0, 0, 0.05);
    --ntpopups-button-style-2-size: 32px;

    /* === BACKDROP === */
    --ntpopups-backdrop-blur: 0px;
    --ntpopups-backdrop-filter: none;

    /* === RESPONSIVE === */
    --ntpopups-mobile-padding: 15px;
    --ntpopups-mobile-font-size: 14px;
}

/* ==================== TEMA ESCURO (DARK THEME) ==================== */
.darkTheme {
    /* general */
    --ntpopups-opposite: rgb(255, 255, 255);
    --ntpopups-frosted-glass: linear-gradient(45deg, rgba(40, 40, 40, .97), rgba(35, 35, 35, .91));

    /* === COLORS - Primary (Ligeiramente mais brilhante para contraste) === */
    --ntpopups-color-primary: #7a70ff;
    --ntpopups-color-primary-hover: #8e87ff;
    --ntpopups-color-primary-active: #645afe;
    --ntpopups-color-primary-disabled: #4e489c;
    --ntpopups-color-primary-light: #35307a;
    /* Cor de fundo escuro para elementos primários */

    /* === COLORS - Secondary (Ajustado para fundo escuro) === */
    --ntpopups-color-secondary: #a0a8ae;
    --ntpopups-color-secondary-hover: #b0b6bc;
    --ntpopups-color-secondary-active: #8f979d;
    --ntpopups-color-secondary-disabled: #5a6268;
    --ntpopups-color-secondary-light: #333333;

    /* === COLORS - Input (Dark Theme) === */
    --ntpopups-color-input-invalid: var(--ntpopups-color-danger);
    /* Mantém o perigo */

    /* === COLORS - Text (Invertido) === */
    --ntpopups-color-text: rgba(255, 255, 255, 0.9);
    --ntpopups-color-text-secondary: rgba(255, 255, 255, 0.7);
    --ntpopups-color-text-muted: rgba(255, 255, 255, 0.5);
    --ntpopups-color-text-light: #222222;
    /* Agora é muito escuro */
    --ntpopups-color-text-on-primary: #ffffff;
    /* Mantido */

    /* === BACKGROUNDS (Invertido) === */
    --ntpopups-bg-default: var(--ntpopups-frosted-glass);
    --ntpopups-bg-overlay: rgba(0, 0, 0, 0.85);
    /* Mais escuro para focar no popup */
    --ntpopups-bg-footer: #222222;
    --ntpopups-bg-header: var(--ntpopups-frosted-glass);
    --ntpopups-bg-body: var(--ntpopups-frosted-glass);
    --ntpopups-bg-button-primary: var(--ntpopups-color-primary);
    --ntpopups-bg-button-secondary: var(--ntpopups-color-secondary);

    /* === BORDERS (Invertido) === */
    --ntpopups-border-color: rgba(255, 255, 255, 0.1);
    --ntpopups-border-color-dark: rgba(255, 255, 255, 0.2);
    --ntpopups-border-color-light: rgba(255, 255, 255, 0.05);

    /* === SHADOWS (Ajustado para fundo escuro) === */
    --ntpopups-shadow: 0 10px 30px rgba(0, 0, 0, 0.6);
    --ntpopups-shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.4);
    --ntpopups-shadow-lg: 0 20px 50px rgba(0, 0, 0, 0.7);
    --ntpopups-shadow-button: 0 2px 4px rgba(0, 0, 0, 0.2);
    --ntpopups-shadow-button-hover: 0 4px 8px rgba(0, 0, 0, 0.3);

    /* === FORM INPUTS (Dark Theme) === */
    --ntpopups-input-bg: #2a2a2a;
    --ntpopups-input-border: var(--ntpopups-border-color);
    --ntpopups-input-border-focus: var(--ntpopups-color-primary);
    --ntpopups-input-text-color: var(--ntpopups-color-text);
    --ntpopups-input-placeholder-color: var(--ntpopups-color-text-muted);

    /* === SCROLLBAR (Ajustado para fundo escuro) === */
    --ntpopups-scrollbar-bg: #222222;
    --ntpopups-scrollbar-thumb: #555555;
    --ntpopups-scrollbar-thumb-hover: #777777;

    /* === CLOSE style 2 (Ajustado para fundo escuro) === */
    --ntpopups-button-style-2-color: var(--ntpopups-color-secondary);
    --ntpopups-button-style-2-color-hover: var(--ntpopups-color-text);
    --ntpopups-button-style-2-bg-hover: rgba(255, 255, 255, 0.1);
}

/* ==================== (WHITE THEME ECLUSIVE) ==================== */
.whiteTheme {
    --ntpopups-opposite: black;
}

/* ==================== LAYOUT APPLICATION (Mantido - usa as variáveis) ==================== */
.popupsOverlay {
    width: 100dvw;
    height: 100dvh;
    background-color: var(--ntpopups-bg-overlay);
    backdrop-filter: var(--ntpopups-backdrop-filter);
    position: fixed;
    left: 0;
    top: 0;
    z-index: var(--ntpopups-z-index);
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
    font-family: var(--ntpopups-font-family);
    font-size: var(--ntpopups-font-size-base);
    line-height: var(--ntpopups-line-height-base);
    transition: background-color var(--ntpopups-transition-duration-slow) ease;
    /* Adicionando transição */
}

/* NOVO: ESTILO PARA FECHAMENTO DO OVERLAY */
.closingOverlay {
    animation: closeOverlay var(--ntpopups-close-animation-duration) var(--ntpopups-transition-easing) forwards;
}

.popupsOverlay[data-interactive="true"] {
    pointer-events: none;
}

.popupsOverlay[data-hidden="true"] {
    background: transparent;
}

/* ==================== POPUP CONTAINER ==================== */
.popup {
    position: static;
    border: none;
    white-space: pre-wrap;
    pointer-events: all;
    display: flex;
    flex-direction: column;
    border-radius: var(--ntpopups-border-radius);
    background: var(--ntpopups-bg-default);
    box-shadow: var(--ntpopups-shadow);
    width: var(--ntpopups-width-default);
    min-width: var(--ntpopups-width-min);
    max-width: var(--ntpopups-width-max);
    max-height: var(--ntpopups-height-max);
    margin: var(--ntpopups-spacing-md);
    overflow: hidden;
    animation: openPopup var(--ntpopups-transition-duration) var(--ntpopups-transition-easing-bounce);
    /* Transição para cores de fundo e sombra */
    transition: background var(--ntpopups-transition-duration-slow) ease, box-shadow var(--ntpopups-transition-duration-slow) ease;
}

.popup.disableOpenAnimation {
    animation: none !important;
}

/* NOVO: ESTILO PARA FECHAMENTO DO POPUP */
.popup.closing {
    animation: closePopup var(--ntpopups-close-animation-duration) var(--ntpopups-transition-easing) forwards;
}

.row {
    display: flex;
    flex-direction: row;
    flex-wrap: nowrap;
    gap: var(--ntpopups-spacing-md);
}

/* ==================== HEADER SECTION ==================== */
.header {
    font-size: var(--ntpopups-font-size-header);
    font-weight: var(--ntpopups-font-weight-header);
    line-height: var(--ntpopups-line-height-header);
    color: var(--ntpopups-color-primary);
    background: var(--ntpopups-bg-header);
    padding: var(--ntpopups-padding-header);
    border-bottom: var(--ntpopups-header-border);
    display: flex;
    align-items: center;
    gap: var(--ntpopups-gap-header-icon);
    flex-shrink: 0;
    /* Transição para cores */
    transition: background var(--ntpopups-transition-duration-slow) ease, border-color var(--ntpopups-transition-duration-slow) ease, color var(--ntpopups-transition-duration-slow) ease;
}

.hiddenHeader .header {
    display: none !important;
}

/* ==================== SCROLLABLE BODY ==================== */
.body {
    display: flex;
    flex-direction: column;
    padding: var(--ntpopups-padding-body);
    overflow: auto;
    /* overflow-x: hidden; */
    background: var(--ntpopups-bg-body);
    color: var(--ntpopups-color-text);
    flex-grow: 1;
    scrollbar-width: thin;
    scrollbar-color: var(--ntpopups-scrollbar-thumb) var(--ntpopups-scrollbar-bg);
    font-size: var(--ntpopups-font-size-base);
    /* Transição para cores */
    transition: background var(--ntpopups-transition-duration-slow) ease, color var(--ntpopups-transition-duration-slow) ease;
}

.body::-webkit-scrollbar {
    width: var(--ntpopups-scrollbar-width);
}

.body::-webkit-scrollbar-track {
    background: var(--ntpopups-scrollbar-bg);
    border-radius: var(--ntpopups-scrollbar-border-radius);
    transition: background var(--ntpopups-transition-duration-slow) ease;
}

.body::-webkit-scrollbar-thumb {
    background: var(--ntpopups-scrollbar-thumb);
    border-radius: var(--ntpopups-scrollbar-border-radius);
    transition: background var(--ntpopups-transition-duration-slow) ease;
}

.body::-webkit-scrollbar-thumb:hover {
    background: var(--ntpopups-scrollbar-thumb-hover);
    transition: background var(--ntpopups-transition-duration-slow) ease;
}

/* ==================== FOOTER ==================== */
.footer {
    display: flex;
    justify-content: flex-end;
    align-items: center;
    background: var(--ntpopups-bg-footer);
    padding: var(--ntpopups-padding-footer);
    border-top: var(--ntpopups-footer-border);
    flex-shrink: 0;
    gap: var(--ntpopups-gap-buttons);
    /* Transição para cores */
    transition: background var(--ntpopups-transition-duration-slow) ease, border-color var(--ntpopups-transition-duration-slow) ease;
}

.hiddenFooter .footer {
    display: none !important;
}

/* ==================== BUTTONS ==================== */
.baseButton {
    cursor: pointer;
    border: none;
    outline: none;
    font-family: var(--ntpopups-font-family);
    font-size: var(--ntpopups-font-size-button);
    font-weight: var(--ntpopups-font-weight-normal);
    border-radius: var(--ntpopups-border-radius-button);
    padding: var(--ntpopups-padding-button);
    min-width: var(--ntpopups-button-min-width);
    height: var(--ntpopups-button-height);
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    gap: var(--ntpopups-spacing-xs);
    background-color: var(--ntpopups-bg-button-primary);
    color: var(--ntpopups-color-text-on-primary);
    box-shadow: var(--ntpopups-shadow-button);
    /* Transição para cores e sombras */
    transition: all var(--ntpopups-transition-duration-fast) var(--ntpopups-transition-easing), background-color var(--ntpopups-transition-duration-slow) ease, box-shadow var(--ntpopups-transition-duration-slow) ease;
    flex-grow: 1;
}

.baseButton:enabled:hover {
    background-color: var(--ntpopups-color-primary-hover);
    box-shadow: var(--ntpopups-shadow-button-hover);
    transform: translateY(-1px);
}

.baseButton:enabled:active {
    background-color: var(--ntpopups-color-primary-active);
    transform: translateY(0);
}

.baseButton:disabled {
    background-color: var(--ntpopups-color-primary-disabled);
    cursor: not-allowed;
    opacity: 0.6;
}

.baseButton[base-button-no-flex="true"] {
    flex: 0;
    padding: var(--ntpopups-spacing-sm);
}

/* === STYLE 1: SECONDARY === */

.baseButton[base-button-style="1"] {
    background-color: var(--ntpopups-color-secondary);
    color: var(--ntpopups-color-text-on-primary);
    box-shadow: var(--ntpopups-shadow-button);
}

.baseButton[base-button-style="1"]:enabled:hover {
    background-color: var(--ntpopups-color-secondary-hover) !important;
    box-shadow: var(--ntpopups-shadow-button-hover);
    transform: translateY(-1px);
}

.baseButton[base-button-style="1"]:enabled:active {
    background-color: var(--ntpopups-color-secondary-active);
    transform: translateY(0);
}

.baseButton[base-button-style="1"]:disabled {
    background-color: var(--ntpopups-color-secondary-disabled);
    cursor: not-allowed;
    opacity: 0.6;
}

/* === STYLE 2: TEXT   === */
.baseButton[base-button-style="2"] {
    border: none;
    cursor: pointer;
    flex: 0;
    background-color: var(--ntpopups-button-style-2-bg) !important;
    color: var(--ntpopups-color-text);
    box-shadow: none;
    width: var(--ntpopups-button-style-2-size);
    height: var(--ntpopups-button-style-2-size);
    min-width: var(--ntpopups-button-style-2-size);
    padding: 0;
    /* Transição para cores */
    transition: color var(--ntpopups-transition-duration-slow) ease, background-color var(--ntpopups-transition-duration-slow) ease;
}

.baseButton[base-button-style="2"]:hover {
    text-decoration: underline;
    box-shadow: none;
    transform: unset;
}

/* === STYLE 3: SUCCESS (GREEN) === */
.baseButton[base-button-style="3"] {
    background-color: var(--ntpopups-color-success);
    color: var(--ntpopups-color-text-on-primary);
    box-shadow: var(--ntpopups-shadow-button);
}

.baseButton[base-button-style="3"]:enabled:hover {
    background-color: var(--ntpopups-color-success-hover) !important;
    box-shadow: var(--ntpopups-shadow-button-hover);
    transform: translateY(-1px);
}

.baseButton[base-button-style="3"]:enabled:active {
    background-color: var(--ntpopups-color-success-hover);
    transform: translateY(0);
}

.baseButton[base-button-style="3"]:disabled {
    background-color: var(--ntpopups-color-success);
    cursor: not-allowed;
    opacity: 0.6;
}

/* === STYLE 4: DANGER (RED) === */
.baseButton[base-button-style="4"] {
    background-color: var(--ntpopups-color-danger);
    color: var(--ntpopups-color-text-on-primary);
    box-shadow: var(--ntpopups-shadow-button);
}

.baseButton[base-button-style="4"]:enabled:hover {
    background-color: var(--ntpopups-color-danger-hover) !important;
    box-shadow: var(--ntpopups-shadow-button-hover);
    transform: translateY(-1px);
}

.baseButton[base-button-style="4"]:enabled:active {
    background-color: var(--ntpopups-color-danger-hover);
    transform: translateY(0);
}

.baseButton[base-button-style="4"]:disabled {
    background-color: var(--ntpopups-color-danger);
    cursor: not-allowed;
    opacity: 0.6;
}

/* ==================== FORM INPUTS ==================== */
.popupsOverlay input[type="text"],
.popupsOverlay textarea {
    width: 100%;
    font-family: var(--ntpopups-font-family);
    font-size: var(--ntpopups-font-size-base);
    font-weight: var(--ntpopups-font-weight-normal);
    line-height: var(--ntpopups-line-height-base);
    color: var(--ntpopups-input-text-color);
    background-color: var(--ntpopups-input-bg);
    border: var(--ntpopups-border-width) var(--ntpopups-border-style) var(--ntpopups-input-border);
    border-radius: var(--ntpopups-input-border-radius);
    padding: var(--ntpopups-input-padding);
    outline: none;
    transition:
        color var(--ntpopups-transition-duration) var(--ntpopups-transition-easing),
        background-color var(--ntpopups-transition-duration) var(--ntpopups-transition-easing),
        border-color var(--ntpopups-transition-duration) var(--ntpopups-transition-easing);
    box-sizing: border-box;
}

/* --- Input Inválido (valid="false") --- */
.popupsOverlay input[valid="false"],
.popupsOverlay textarea[valid="false"] {
    border-color: var(--ntpopups-color-input-invalid);
}

.popupsOverlay textarea[noresize="true"] {
    resize: none;
}

/* ------------------------------------- */

.popupsOverlay input[type="text"]::placeholder,
.popupsOverlay textarea::placeholder {
    color: var(--ntpopups-input-placeholder-color);
    opacity: 1;
}

.popupsOverlay input[type="text"]:focus,
.popupsOverlay textarea:focus {
    border-color: var(--ntpopups-input-border-focus);
    box-shadow: 0 0 0 3px rgba(95, 84, 240, 0.1);
}

.popupsOverlay.nt-popups-dark-theme input[type="text"]:focus,
.popupsOverlay.nt-popups-dark-theme textarea:focus {
    box-shadow: 0 0 0 3px rgba(122, 112, 255, 0.2);
}

.popupsOverlay input[type="text"]:disabled,
.popupsOverlay textarea:disabled {
    background-color: var(--ntpopups-color-secondary-light);
    cursor: not-allowed;
    opacity: 0.6;
}

.popupsOverlay textarea {
    min-height: 100px;
    resize: vertical;
}

/* ==================== ANCHOR LINKS (<a>) ==================== */
.body a {
    color: var(--ntpopups-color-primary);
    /* Usa a cor primária para links */
    text-decoration: none;
    /* Remove o sublinhado padrão */
    font-weight: var(--ntpopups-font-weight-semibold);
    /* Torna o texto um pouco mais encorpado */
    transition: color var(--ntpopups-transition-duration) var(--ntpopups-transition-easing);
}

.body a:hover {
    color: var(--ntpopups-color-primary-hover);
    /* Escurece/ilumina no hover */
    text-decoration: underline;
    /* Adiciona sublinhado no hover para melhor feedback */
}

.body a:active,
.body a:focus {
    color: var(--ntpopups-color-primary-active);
    /* Cor de ativação no clique/foco */
    outline: none;
    /* Indicador de foco customizado para acessibilidade */
    box-shadow: 0 0 0 2px var(--ntpopups-color-primary-light);
    border-radius: var(--ntpopups-border-radius-sm);
}

.body a:visited {
    color: var(--ntpopups-color-primary);
    /* Mantém a cor primária para links visitados */
}

/* ==================== ANIMATIONS ==================== */
@keyframes openPopup {
    0% {
        transform: scale(var(--ntpopups-animation-scale-start));
        opacity: var(--ntpopups-animation-opacity-start);
    }

    100% {
        transform: scale(1);
        opacity: 1;
    }
}

/* NOVO: Keyframe para Fechamento do Popup */
@keyframes closePopup {
    0% {
        transform: scale(1);
        opacity: 1;
    }

    100% {
        transform: scale(var(--ntpopups-animation-scale-start));
        opacity: 0;
    }
}

/* NOVO: Keyframe para Fechamento do Overlay (Apenas Opacidade) */
@keyframes closeOverlay {
    to {
        /* Garante que o backdrop-filter e background sumam */
        background-color: transparent !important;
    }
}

/* ==================== RESPONSIVE ==================== */
@media (max-width: 768px) {
    .popup {
        max-width: 95dvw;
        max-height: 95dvh;
    }

    .header {
        font-size: calc(var(--ntpopups-font-size-header) * 0.85);
        padding: var(--ntpopups-mobile-padding);
    }

    .body {
        padding: var(--ntpopups-mobile-padding);
        font-size: var(--ntpopups-mobile-font-size);
    }

    .footer {
        padding: var(--ntpopups-spacing-sm) var(--ntpopups-mobile-padding);
        flex-wrap: wrap;
    }
}